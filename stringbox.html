<head><title>string box</title>
<script src="p5.min.js"></script>
<script>var _p5;
function runp5(){
  if(_p5)_p5.remove();//remove last p5 instance
  let s=function(p){//create a sketch closure with preload, setup and draw
    p.preload=function(){};//do nothing
    p.setup=function(){with(p)createCanvas(320,320);};//set resolution
    p.draw=function(){with(p)eval(txtDraw.value);};
  }
  _p5=new p5(s,"c",0);
}
</script></head>
<html><body onload='runp5()' style="font-family:Verdana;">
<b>String Box:</B> simple draw function<br>
<table><tr valign="top"><td>
<div id="c" style="width:321px;height:321px"></div>
<textarea id="txtDraw" cols="40" rows="15" wrap="off" spellcheck="false" 
 autocorrect="off" style="font-family:Lucida Console;">
function C(x){return 160+100*x;}//fit to canvas
if(frameCount<2){//setup static vars
  draw.angle=0.; //as draw.varname
}//draw a moving line
let x1=C(cos(draw.angle)),
    y1=C(sin(draw.angle*1.3)),
    x2=C(cos(draw.angle*.7)),
    y2=C(sin(draw.angle*1.2));
stroke(0);//give it a shadow
line(x1,y1+1,x2,y2+1);
stroke(x1%255,x2%127,64);
line(x1,y1,x2,y2);
draw.angle+=.05;//move along
</textarea><br>
<button id="btnEval" onclick="runp5();">Run</button>
</td><td>
To make animation we will implement the <b>draw</b> function. Aside from
creating the canvas to draw on we could put all of our setup code in the
draw function by checking the <b>frameCount</b> variable. Of course
that wouldn't be optimal as it would always need to be checked but for
a simple example like this it won't hurt.<br>
p5 and javascript have many math functions including cos, sin, tan, atan,
atan2, asin, acos, abs, log, exp, ceil, floor, sq, sqrt,
min, max, round, fract, dist, mag, constrain, map, pow, norm, lerp.
We'll also use the % modulus operator to create some moving lines.<br><br>
Try different values in place of the 1.3, .7 and 1.2 angle multipliers.<br>
1., .5, 1.5 draws a challace tipped on its side. Can you stand it up?
<br><br>
If you edit the code and click run but nothing is drawn you probably
made an error which you can check by inspecting the browser's console.
In MSEdge you can just press ctrl-shft-I if you have that many fingers.
</td></tr></table>
</body></html>