<html><head><title>warped shelves</title>
<script src="WAG.js"></script>
<script>
function setup(){eval(txtSetup.value);}
</script></head>
<body onload="setup();" style="font-family:sans-serif;">
<b>Warped Shelves:</b> simple setup function<br>
<table><tr valign="top"><td>
<canvas id="cnvs" width="320" height="320"></canvas>
<textarea id="txtSetup" cols="40" rows="15" wrap="off" spellcheck="false" 
 autocorrect="off" style="font-family:Lucida Console;">
G("cnvs","2D");
G.d.fillStyle='#000000';
G.d.fillRect(0,0,G.c.width,G.c.height);//black between boxes
G.d.fillStyle='#FFFFFF';//boxes
G.d.strokeStyle='#7F7F7F';//shelves
G.d.beginPath();
var ry=[];ry.push(0);//array of boxes
for(let i=1;i<16;i++){
  ry.push(ry[i-1]+V.rndi(20)+15);
  let x=V.rndi(40);
  let d=ry[i]-ry[i-1];
  while(x<G.c.width){//boxes
    G.d.fillRect(x,ry[i-1]+1,d,d-1);
    x+=d*2;
  }
  G.d.moveTo(0,ry[i]);
  G.d.lineTo(G.c.width,ry[i]);
}
G.d.stroke();
</textarea><br>
<button id="btnEval" onclick="try{setup();}catch(error){alert(error);}">Run</button>
</td><td>
There are 3 functions in p5 that you write the code for to display your sketch.<br>
The function <b>preload</b>() is used to load resources like images and video
before the sketch starts. I probably won't cover that much as I'm trying to
keep the examples as 'stand alone' as possible.<br>
The function <b>setup</b>() is used to start the sketch. You normally create
and set the size of the canvas the sketch is drawn on with createCanvas(WIDTH,HEIGHT);
where WIDTH and HEIGHT are in pixels.<br>
The function <b>draw</b>() is called continuously until a noloop() is reached
or the browser leaves the page.<br><br>
I will draw an illusion I first saw on <a href="shadertoy.com/view/XsBXWR">ShaderToy.com</a> by
the super user <a href="shadertoy.com/user/FabriceNeyret2">FabriceNeyret2.</a> I also like drawing with the GPU there as
<a href="shadertoy.com/user/eiffie">eiffie.</a>. p5 can also be used to run shaders so look
forward to that. All the lines and boxes are straight but your brain deceives you!
<br><br>
If you are writing a non editable version the code in the textarea is wrapped by<br>
function setup(){...}<br>
So a complete script section looks like:<br>
<code>
&ltscript src="p5.min.js"&gt&lt/script&gt&ltscript&gt<br>
function setup(){<br>
&nbsp  createCanvas(320,320);//whatever size works<br>
&nbsp  background(0);//black background<br>
&nbsp  stroke(255);fill(255);//white pen and brush<br>
&nbsp  line(0,0,320,320);//draw a diagonal line<br>
}<br>
&lt/script&gt<br>
</code>
</td></tr></table>
</body></html>